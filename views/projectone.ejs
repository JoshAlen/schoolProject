<!DOCTYPE html>
<html lang="en">
<head>

    <title>Project One</title>

</head>
<body>
    //project one
    <h3>Simulation: The Tortoise and the Hare</h3>
    <button id="myButton">Start Race</button>
    <h4>ON YOUR MARK, GET SET</h4>
    <h4 id = "bang"></h4>
    <h4 id = "theyOff"></h4>
    <table id="container">

    </table>
    <h4 id="winner"></h4>
    <h4 id="timePass"></h4>
    <script type="text/javascript">
        //Joshua Seitz
        var tortoiseWin = 1;
        var hareWin = 1;
        var time = 0;
        var myBtn = document.getElementById('myButton');
        var intervalID;

        // select the button and add a call back function to set interval everysecond.
        myBtn.addEventListener('click', function(){
            intervalID = window.setInterval(startTheRace, 1000);
        });
        // function to check if tortoise or hare is negatives, if it is, then change value back to 0.
        function checkNEG() {
            if (tortoiseWin < 1 ){
                tortoiseWin = 1;
            }
            if (hareWin < 1) {
                hareWin = 1;
            }
        }
        // function to check for win and print out who is the winner and the time it take for the win.
        function checkWin(){
            if (tortoiseWin >= 70 && hareWin >= 70){
                document.getElementById("winner").innerText = "It's a tie";
                document.getElementById("timePass").innerText = "TIME ELAPSED = " + time;


            } else if(tortoiseWin >= 70){
                clearInterval(intervalID);
                document.getElementById("winner").innerText = "TORTOISE WINS!! YAY!!!";
                document.getElementById("timePass").innerText = "TIME ELAPSED = " + time;


            } else if (hareWin >= 70){
                clearInterval(intervalID);
                document.getElementById("winner").innerText = "Hare wins. Yuck!";
                document.getElementById("timePass").innerText = "TIME ELAPSED = " + time;
            }
        }
        // this function print out the start of the race, and make tortoise and hare move.
        function startRace() {
            document.getElementById("bang").innerText = "BANG!!!!!";
            document.getElementById("theyOff").innerText = "AND THEY'RE OFF!!!!!";
            tortoiseMove();
            hareMove();
            checkNEG();
            console.log("hare " + hareWin);
            console.log("tortoise " + tortoiseWin);
        }
        // this function print out the position of the racers.
        function createTable() {
            x = document.getElementById("container");
            x.innerHTML += "<div>";
            for(var i = 1; i < 71; i++){
                if (i == hareWin && i == tortoiseWin ){
                    x.innerHTML += "OUCH!!!";
                } else if (i == tortoiseWin){
                    x.innerHTML += "T";
                } else if (i == hareWin) {
                    x.innerHTML += "H";
                }else {
                    x.innerHTML += "&nbsp &nbsp";
                }
            }
            x.innerHTML +="</div>";
        }
        // create random number
        function getRandom(){
            return Math.floor(Math.random() * 10) + 1  ;
        }
        // this function match the random number to the moves for tortoise.
        function tortoiseMove (){
            var i = getRandom();
            if (i >= 1 && i <= 5) {
                return tortoiseWin = tortoiseWin + 3;
            } else if (i >= 6 && i <= 7) {
                return tortoiseWin = tortoiseWin -6;
            } else if (i >= 8 && i <= 10) {
                return tortoiseWin = tortoiseWin + 1;
            }

        }
        // this function match the random number to the moves for hare.
        function hareMove (){
            var i = getRandom();
            if (i >= 1 && i <= 2) {
                return 0;
            } else if (i >= 3 && i <= 4) {
                return hareWin = hareWin + 9;
            } else if (i == 5) {
                return hareWin = hareWin -12;
            } else if (i >= 6 && i <= 8) {
                return hareWin = hareWin + 1;
            } else if (i >= 9 && i <= 10) {
                return hareWin = hareWin -2;
            }
        }
        // clear out everything and reset the page.
        function clear(){
            window.location.reload();
        }
        // this is the main function that call all the other function to run the program.
        function startTheRace(){
            startRace();
            checkNEG();
            checkWin();
            createTable();
            time++;
        }


    </script>

</body>
</html>